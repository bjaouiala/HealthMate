<mat-card class="cardWithShadow theme-card">
  <mat-card-header>
    <mat-card-title>Your Health Goals</mat-card-title>
  </mat-card-header>
  <mat-card-content class="b-t-1">
    <div *ngIf="loading" class="loading">Loading health goals...</div>
    <div *ngIf="error" class="error">{{ error }}</div>
    <div *ngIf="!loading && !error">
      <mat-accordion>
        <mat-expansion-panel class="goal-item" *ngFor="let goal of healthGoals" >
          <mat-expansion-panel-header >
            <mat-panel-title>
              {{ goal.goalTitle || 'No Title' }}
            </mat-panel-title>
            <mat-panel-description>
              {{ goal.goalDescription || 'No Description' }}
            </mat-panel-description>
          </mat-expansion-panel-header>
          <div class="goal-details" style="margin-top: 20px;">
            <p><strong>Start Date:</strong> {{ goal.startDate | date }}</p>
            <p><strong>End Date:</strong> {{ goal.endDate | date }}</p>
            <p><strong>Actual Value:</strong> {{ goal.actualValue }}</p>
            <p><strong>Target Value:</strong> {{ goal.targetValue }}</p>
            <p><strong>Your Description:</strong> {{ goal.userDescription }}</p>
            <p><strong>Status:</strong> {{ goal.status }}</p>
            <div class="goal-actions button-group">
            <button mat-flat-button color="primary" (click)="editGoal(goal.id)">Edit</button>
            <button mat-flat-button color="primary" (click)="deleteHealthGoal(goal.id)">Delete</button>
              </div>
          </div>
        </mat-expansion-panel>
      </mat-accordion>
      <div style="margin-top: 20px;">
        <button mat-raised-button color="primary" (click)="goToUserPredefinedGoals()">
          View Predefined Health Goals
        </button>
      </div>
    </div>
  </mat-card-content>
</mat-card>
